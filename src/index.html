<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>knobby</title>
</head>
<body>
<h1><a href="https://knobby.net">knobby</a></h1>
<div>
  <h2>update firmware</h2>
  <form id="update" method="post" action="/update" enctype="multipart/form-data">
    <p>
      <label for="password">
        device password:
        <input type="password" name="pass">
      </label>
    </p>
    <p>
      <label for="update">
        upload any firmware .bin file:
        <input type="file" name="update" accept=".bin">
      </label>
      <br><i>- or -</i><br>
      <label for="update">
        set custom firmware url and update:
        <input type="text" name="firmwareURL" size="72" value="{{firmwareURL}}">
      </label>
    </p>
    <p>
      <input type="submit" value="Update">
    </p>
  </form>
</div>
<script>
  document.forms.update.firmwareURL.value = new URLSearchParams(location.search).get("firmwareURL") || document.forms.update.firmwareURL.value
  document.forms.update.pass.value = new URLSearchParams(location.search).get("pass")
</script>
</body>
</html>
